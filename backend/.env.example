# =============================================================================
# MCPress Backend - Environment Variables
# Copy this file to .env and fill in your values.
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase (required) - from Dashboard → Settings → API Keys
# ANON = Publishable key (sb_publishable_...). SERVICE = Secret key (sb_secret_...).
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_SERVICE_KEY=your-secret-key
# Or: SUPABASE_SERVICE_ROLE_KEY=your-secret-key  (Secret key, not Publishable)
SUPABASE_ANON_KEY=your-publishable-key

# -----------------------------------------------------------------------------
# Database (required) - from Dashboard → Settings → Database
# Option A: Paste the full URI (recommended if direct host fails or during maintenance)
# -----------------------------------------------------------------------------
# DATABASE_URL=postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# Option B: Individual components (db. prefix is added if missing)
# If you see "getaddrinfo failed" or "11001", DATABASE_HOST/DATABASE_URL has an
# invalid or placeholder host — use your real Supabase project ref (e.g. abc123.supabase.co).
# -----------------------------------------------------------------------------
DATABASE_HOST=your-project-ref.supabase.co
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your-database-password
DATABASE_NAME=postgres

# -----------------------------------------------------------------------------
# Groq API (required for article extraction)
# -----------------------------------------------------------------------------
GROQ_API_KEY=gsk_your_groq_api_key
GROQ_MODEL=llama-3.1-8b-instant

# -----------------------------------------------------------------------------
# OpenAI API (required for embeddings)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your_openai_api_key
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EMBEDDING_DIMENSIONS=1536

# -----------------------------------------------------------------------------
# Application (optional)
# -----------------------------------------------------------------------------
# API_HOST=0.0.0.0
# API_PORT=8000
# DEBUG=false

# -----------------------------------------------------------------------------
# CORS & categories (optional; comma-separated)
# -----------------------------------------------------------------------------
# CORS_ORIGINS=http://localhost:3000,http://localhost:8000
# ALLOWED_CATEGORIES=news,tech,sports,business,politics,entertainment,health,science

# -----------------------------------------------------------------------------
# Jina.ai reader (optional; used for URL scraping)
# -----------------------------------------------------------------------------
# JINA_READER_URL=https://r.jina.ai/http://
# JINA_API_KEY=your-jina-api-key   # Optional; may bypass 451 blocks. If you get 401 Invalid API key:
#   - Copy the full key from https://jina.ai/api-dashboard/key-manager (no spaces before/after)
#   - In .env use JINA_API_KEY=key_here with no quotes around the key
#   - If it still fails, create a new key in the dashboard and replace it here
